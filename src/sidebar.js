function generateHeader(graph, user, repo, subdir, d) {
  const header = document.querySelector(".sidebar-header");
  while (header.firstChild) {
    header.removeChild(header.firstChild);
  }
  
  let totalLines = 0;
  graph.nodes.forEach(node => {
    totalLines += node.loc;
  });
  
  const linkText = document.createTextNode(`https://api.github.com/repos/${user}/${repo}/${subdir}`);
  const userText = document.createTextNode(`     Current user: ${user}`);
  const repoText = document.createTextNode(`     Current repo: ${repo}`);
  const subdirText = document.createTextNode(`   Current subdir: ${subdir}`);
  const linesText = document.createTextNode(`      Total lines: ${totalLines}`);
  let textArr = [linkText, userText, repoText, subdirText, linesText];
  
  if (d) {
    const fileNameText = document.createTextNode(`Current directory: ${d.id}`);
    const fileLoc = document.createTextNode(`    Current lines: ${d.loc}`);
    textArr = textArr.concat([fileNameText, fileLoc]);
  }
  
  textArr.forEach((textNode) => {
    header.append(textNode);
    header.append(document.createTextNode("\n"));
  });
}

const MESSAGE = `README

Nodes denote files with a .js or .jsx extension. The size of
the node corresponds to the size of the file. Nodes in the same
subdirectory are given the same color.

Links indicate a connection between two files. The arrow points
from the file being exported to the file that is importing it.

Instructions:

Click and drag to move nodes around.

Click on a node to see its contents.

Click on the same node or the background to return to the
main view, or click on a different node to select a new node.
`;

function setContentMessage(content) {
  const fileBox = document.querySelector(".file-content");
  while (fileBox.firstChild) {
    fileBox.removeChild(fileBox.firstChild);
  }
  let text;
  if (content === undefined) {
    text = MESSAGE;
  } else if (content === "") {
    text = "This file is empty!";
  } else {
    text = content;
  }
  
  let textNode = document.createTextNode(text);
  fileBox.appendChild(textNode);
}

module.exports = {
  generateHeader,
  setContentMessage
};
